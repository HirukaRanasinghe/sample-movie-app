<mat-sidenav-container >
  <mat-sidenav #drawer class="sidenav" fixedInViewport="true"
               [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
               [mode]="(isHandset$ | async) ? 'over' : 'side'"
               [opened]="!(isHandset$ | async)" style="padding: 10px">

    <div class="mat-elevation-z2" fxLayout="row" fxLayoutAlign="center center" style="padding: 20px">
      <div>
          <img src="assets/1200px-Logo-YTS.png" style="width: 100px">
      </div>
    </div>

    <div class="mat-elevation-z2 mb-1">
      <div fxLayout="column">

        <form
          fxLayout="row" fxLayoutGap="20px"
          fxLayoutAlign="center center"
          [formGroup]="searchForm" (ngSubmit)="onSearch()"
          fxShow="false" fxShow.lt-md="true"
        >
          <mat-form-field floatLabel="never">
            <mat-label><mat-icon>search</mat-icon></mat-label>
            <input
              (keyup.enter)="onSearch(); drawer.toggle();"
              formControlName="search"
              type="text"
              matInput>
          </mat-form-field>
          <div class="example-button-container">
            <button type="submit" mat-mini-fab color="accent" aria-label="search button" style="margin-right:10px">
              <mat-icon>search</mat-icon>
            </button>
          </div>
        </form>

        <a routerLink="/advanced-search" (click)="drawer.toggle()" mat-button> Advanced Search</a>
        <a routerLink="/"  (click)="drawer.toggle()" mat-button> LOGOUT</a>

      </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content style="overflow: hidden">
    <mat-toolbar class="mat-elevation-z2">
        <div>
          <button
            type="button"
            aria-label="Toggle sidenav"
            mat-icon-button
            (click)="drawer.toggle()">
            <!--*ngIf="isHandset$ | async"-->
            <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
          </button>
        </div>

        <div style="flex: 1 1 auto;" *ngIf="isHandset$ | async"></div>

        <div>
          YTS Clone
        </div>

        <div style="flex: 1 1 auto;"></div>


        <div fxLayout="column" fxLayoutAlign="center center" fxShow="true" fxShow.lt-md="false">
          <form fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="center center" [formGroup]="searchForm" (ngSubmit)="onSearch()" >
            <mat-form-field floatLabel="never">
              <mat-label><mat-icon>search</mat-icon></mat-label>
              <input
                (keyup.enter)="onSearch()"
                formControlName="search"
                type="text"
                matInput>
            </mat-form-field>
            <div class="example-button-container">
              <button type="submit" mat-mini-fab color="accent" aria-label="search button" style="margin-right:10px">
                <mat-icon>search</mat-icon>
              </button>
            </div>

          </form>
        </div>





    </mat-toolbar>
    <div fxLayout="column" fxFlexFill style="">
      <router-outlet></router-outlet>
    </div>

    <!--div fxLayout="column" fxLayoutAlign="center">

      <div *ngIf="showStatus" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px" class="status-msg">
        <div fxLayout="column" fxFlexFill fxLayoutAlign="center center" >
          <p class="stat-msg">Search above to get the movie you wanted. </p>
        </div>
      </div>

      <div *ngIf="showErr" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px" class="status-msg">
        <div fxLayout="column" fxFlexFill fxLayoutAlign="center center" >
          <p class="err-msg">No Results found. Please refine your search.</p>
        </div>
      </div>
    </div>

    <div *ngIf="isLoad" fxLayout="row wrap" fxLayout.lt-sm="column"  fxLayoutAlign="center" fxLayoutGap="32px">
      <app-movie-card

        fxFlex="0 1 calc(25% - 32px)"
        fxFlex.lt-md="0 1 calc(50% - 32px)"
        fxFlex.lt-sm="100%"
        *ngFor="let movie of movieList['data']['movies']" [movieDetails]="movie"></app-movie-card>

    </div>

    <div *ngIf="isLoad" fxLayout="column" >
      <app-pagination [movieList]="movieList" (outEvent)="onPageChange($event)">
      </app-pagination>
    </div-->
  </mat-sidenav-content>

</mat-sidenav-container>
